        -:    0:Source:main.c
        -:    0:Programs:2
        -:    1:#include <stdio.h>
        -:    2:#include "functions.h"
        -:    3:
        -:    4:#define ERROR_NE -1
        -:    5:#define ERROR_OPEN -2
        -:    6:
        6:    7:int main(int argc, char **argv) {
        6:    8:    float expectvalue = 0;
        6:    9:    float dispersion = 0;
        -:   10:
        -:   11:
        -:   12:     // проверка на существование файла
        6:   13:    FILE *file1 = fopen(argv[1], "r+");
        6:   14:    if (file1 == 0) {
        1:   15:        printf("Не могу открыть файл '%s'", argv[1]);
        1:   16:        return ERROR_OPEN;
        -:   17:    }
        5:   18:    switch(expected_value(file1, &expectvalue))
        -:   19:      {
        -:   20:          case ERROR_NE :
        1:   21:              printf("Недостаточно данных\n");
        1:   22:              fclose(file1);
        1:   23:              return ERROR_NE;
        -:   24:              break;
        -:   25:      }
        -:   26:
        4:   27:    rewind(file1);
        4:   28:    switch(dispersionfunc(file1, expectvalue, &dispersion))
        -:   29:      {
        -:   30:          case ERROR_NE :
    #####:   31:              printf( "Недостаточно данных");
    #####:   32:              fclose(file1);
    #####:   33:              return ERROR_NE;
        -:   34:              break;
        -:   35:      }
        -:   36:
        4:   37:    fclose(file1);
        -:   38:
        -:   39:
        4:   40:    printf("\nМатематическое ожидание: %f\n",expectvalue);
        4:   41:    printf("\nДисперсия: %f\n", dispersion);
        4:   42:    return 0;
        -:   43:}
